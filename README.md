# Telegram Monitor Bot

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –±–æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç Telegram-–∫–∞–Ω–∞–ª—ã, –∏—â–µ—Ç –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º, –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤ Telegram. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ –∏–ª–∏ REST API.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `bot/` ‚Äî Telegram-–±–æ—Ç (Aiogram)
- `monitor/` ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞–Ω–∞–ª–æ–≤ (Telethon UserBot)
- `api/` ‚Äî Flask REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `db/` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite
- `data/` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç `botdata.db`
- `run.py` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç Telegram-–±–æ—Ç–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ VPS (Ubuntu)

1. **–£—Å—Ç–∞–Ω–æ–≤–∏ Python 3 –∏ pip:**

```bash
sudo apt update && sudo apt install python3-pip -y
```

2. **–ö–ª–æ–Ω–∏—Ä—É–π –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏ –ø—Ä–æ–µ–∫—Ç:**

```bash
unzip final_telegram_monitor_bot_vps_ready.zip
cd telegram_monitor_bot
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

```bash
pip3 install -r requirements.txt
```

4. **–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è):**

```env
TELEGRAM_API_ID=your_telegram_api_id
TELEGRAM_API_HASH=your_telegram_api_hash
TELEGRAM_API_TOKEN=your_telegram_bot_token
```

5. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**

```bash
python3 db/init_db.py
```

6. **–ó–∞–ø—É—Å—Ç–∏ Flask API (–¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤/–∫–∞–Ω–∞–ª–æ–≤/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):**

```bash
python3 api/app.py
```

7. **–ó–∞–ø—É—Å—Ç–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Telegram-–±–æ—Ç–∞:**

```bash
python3 run.py
```

---

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL                | –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON)           |
|-------|--------------------|-------------------------------|
| POST  | `/add/keyword`     | `{ "word": "–≤–∞–∫–∞–Ω—Å–∏—è" }`      |
| POST  | `/add/user`        | `{ "user_id": 123456789 }`    |
| POST  | `/add/channel`     | `{ "link": "https://t.me/..."}` |
| GET   | `/get/all`         | ‚Äî                             |

---

## üì¨ –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ curl

```bash
curl -X POST http://localhost:5000/add/keyword -H "Content-Type: application/json" -d '{"word":"–≤–∞–∫–∞–Ω—Å–∏—è"}'
```

---

## üîê –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

- `monitor/watcher.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telethon UserBot: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –∫–æ–¥.
- –ë–æ—Ç –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –∏–ª–∏ —Ç–µ, –≥–¥–µ –≤—ã ‚Äî –∞–¥–º–∏–Ω.

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `run.py`, –∏ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∫–∞–Ω–∞–ª—ã –∏ –ø—Ä–∏—Å—ã–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º.